<body>
    <style>
        .content-div { display: none; }
        #content1 { display: block; } /* Show content1 by default */
    </style>
    %%[
    SET @ContentBlocks = "ContentBlock-1,ContentBlock-2,ContentBlock-3"
    ]%%

    <div class="button-row" id="buttonRow"></div>
    <div id="content1" class="content-div">Content for Button 1</div>
    <div id="content2" class="content-div">Content for Button 2</div>
    <div id="content3" class="content-div">Content for Button 3</div>

    <script runat="server">
        Platform.Load("Core", "1");
        var ContentBlocks = Variable.GetValue("@ContentBlocks");
    </script>

    <script>
        var ContentBlocks = "ContentBlock-1,ContentBlock-2,ContentBlock-3";
        var labelsArray = ContentBlocks.split(',');

        var buttonRow = document.getElementById('buttonRow');

        labelsArray.forEach((label, index) => {
            var button = document.createElement('button');
            button.textContent = index + 1;
            button.addEventListener('click', () => {
                document.querySelectorAll('.content-div').forEach(div => div.style.display = 'none');
                document.getElementById(`content${index + 1}`).style.display = 'block';
            });
            buttonRow.appendChild(button);
        });
    </script>
</body>