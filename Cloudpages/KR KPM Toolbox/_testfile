%%[
SET @customerIDs = "ABC123,DEF123,GHI123"
SET @idArray = BuildRowSetFromString(@customerIDs, ",") /* Convert to RowSet */
SET @totalIDs = RowCount(@idArray)

IF @totalIDs > 0 THEN
  FOR @i = 1 TO @totalIDs DO
    SET @idRow = Row(@idArray, @i)
    SET @customerID = Field(@idRow, "Value") /* Extract individual ID */

    /* Lookup Rows */
    SET @rows = LookupRows("YourDataExtensionName", "CustomerID", @customerID)
    SET @rowCount = RowCount(@rows)

    IF @rowCount > 0 THEN
      FOR @j = 1 TO @rowCount DO
        SET @row = Row(@rows, @j)
        SET @Email = Field(@row, "EmailAddress")
        OUTPUT(CONCAT("<p>Customer ", @customerID, " - Email: ", @Email, "</p>"))
      NEXT @j
    ELSE
      OUTPUT(CONCAT("<p>No data found for ", @customerID, "</p>"))
    ENDIF
  NEXT @i
ELSE
  OUTPUT("<p>Error: No valid customer IDs provided.</p>")
ENDIF
]%%