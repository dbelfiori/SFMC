<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show Only Duplicates</title>
    <style>
        .duplicate {
            color: red;
            font-weight: bold;
        }
        #ampLinks {
            display: none; /* Hide AMPscript output */
        }
    </style>
</head>
<body>

    <!-- AMPscript Output (Hidden) -->
    <div id="ampLinks">
        %%=Concat(lookupRows('YourDataExtension', 'ColumnName', 'Value'),'<br>')=%%
    </div>

    <div id="linkOutput"></div>

    <script>
        function displayLinks() {
            let ampLinksDiv = document.getElementById("ampLinks");
            let rawLinks = ampLinksDiv.innerHTML.trim(); // Get AMPscript-generated content
            let linksArray = rawLinks.split("<br>").map(link => link.trim()); // Split by line break
            let outputDiv = document.getElementById("linkOutput");
            let linkCounts = new Map();

            outputDiv.innerHTML = ""; // Clear previous entries

            // Count occurrences of each link
            linksArray.forEach(link => {
                if (link !== "") {
                    linkCounts.set(link, (linkCounts.get(link) || 0) + 1);
                }
            });

            // Display only duplicates
            linkCounts.forEach((count, link) => {
                if (count > 1) { // Only show links that appear more than once
                    let p = document.createElement("p");
                    p.classList.add("duplicate");
                    p.textContent = link;
                    outputDiv.appendChild(p);
                }
            });
        }

        // Run function on page load
        window.onload = displayLinks;
    </script>

</body>
</html>