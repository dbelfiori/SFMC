function displayLinks() {
  let ampLinksDiv = document.getElementById("ampLinks");
  let rawLinks = ampLinksDiv.innerHTML.trim(); // Get AMPscript output

  let linksArray = rawLinks.split(/\r?\n/).map((link) => link.trim()); // Split by newlines
  let outputDiv = document.getElementById("linkOutput");
  let linkCounts = new Map();
  let duplicatesFound = false;

  outputDiv.innerHTML = ""; // Clear previous entries

  // Count occurrences of each link
  linksArray.forEach((link) => {
    if (link !== "") {
      linkCounts.set(link, (linkCounts.get(link) || 0) + 1);
    }
  });

  // Create header if duplicates exist
  linkCounts.forEach((count, link) => {
    if (count > 1) {
      if (!duplicatesFound) {
        let header = document.createElement("p");
        header.textContent = "Duplicates found:";
        header.style.fontWeight = "bold"; // Style header
        outputDiv.appendChild(header);
        duplicatesFound = true;
      }

      let p = document.createElement("p");
      p.textContent = link;
      p.style.color = "red"; // Set text color to red
      p.style.fontWeight = "bold"; // Make text bold
      outputDiv.appendChild(p);
    }
  });

  // If no duplicates exist, inform the user
  if (!duplicatesFound) {
    outputDiv.innerHTML = "<p>No duplicates found.</p>";
  }
}

// Run function on page load
window.onload = displayLinks;